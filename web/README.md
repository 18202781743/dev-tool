# Web开发工具套件

这是基于原CLI工具重构的Web版本，提供直观的Web界面来管理CRP打包流程和Git标签管理。

## 🚀 快速开始

### 1. 启动应用

```bash
# 在项目根目录执行
./start-web.sh
```

启动脚本会自动：
- 检查Python3环境
- 创建虚拟环境（如果不存在）
- 安装依赖包
- 启动Web应用

### 2. 访问应用

打开浏览器访问：`http://localhost:5000`

### 3. 首次配置

1. 点击导航栏的"配置"
2. 配置CRP认证信息和参数
3. 配置Git认证信息和参数
4. 保存配置

## 📋 功能特性

### CRP打包管理
- ✅ 主题列表查看和管理
- ✅ 打包任务创建和状态跟踪
- ✅ 项目智能搜索和建议
- ✅ 批量打包操作
- ✅ 架构选择和配置
- ✅ 最新提交信息预览
- ✅ 打包详情查看

### Git标签管理  
- ✅ 关注仓库状态监控
- ✅ 自动版本标签生成
- ✅ 标签PR创建和跟踪
- ✅ 仓库探索和搜索
- ✅ 最新提交信息预览
- ✅ PR状态实时跟踪

### 配置管理
- ✅ CRP用户认证配置（密码自动加密）
- ✅ 打包参数配置（架构、分支等）
- ✅ Git用户认证配置
- ✅ GitHub代理设置
- ✅ 默认审查人配置
- ✅ 关注仓库列表管理

## 🏗️ 项目结构

```
web/
├── app.py                 # Flask应用主文件
├── requirements.txt       # Python依赖
├── config/
│   └── config.yaml       # 配置文件
├── modules/
│   ├── config_manager.py # 配置管理模块
│   ├── crp_manager.py    # CRP管理模块
│   └── git_manager.py    # Git管理模块
├── templates/
│   ├── base.html         # 基础模板
│   ├── index.html        # 主页
│   ├── config.html       # 配置页面
│   ├── crp.html          # CRP管理页面
│   └── git.html          # Git管理页面
└── static/
    ├── css/
    │   └── main.css      # 样式文件
    └── js/
        └── main.js       # JavaScript文件
```

## ⚙️ 配置说明

### CRP配置
- **userId**: CRP系统用户名
- **password**: CRP系统密码（会自动加密存储）
- **topicType**: 主题类型（test/release）
- **archs**: 支持的架构列表
- **defaultArchs**: 默认选中的架构
- **projectBranch**: 默认项目分支

### Git配置  
- **githubID**: GitHub用户名
- **debEmail**: 维护者邮箱信息
- **proxy**: GitHub访问代理（可选）
- **projectOrg**: 默认组织名
- **projectReviewers**: 默认审查人列表
- **watchRepos**: 关注仓库列表

## 🔧 高级功能

### 1. 批量操作
- 支持批量创建打包任务
- 支持批量检查最新提交
- 支持自定义架构选择

### 2. 智能建议
- 项目名称自动补全
- 版本标签自动生成
- 最新提交信息预览

### 3. 状态跟踪
- 实时显示连接状态
- 打包状态可视化
- PR状态自动更新

## 🌐 网络配置

### 局域网访问
默认配置已支持局域网访问，其他设备可通过以下地址访问：
```
http://[服务器IP]:5000
```

### 代理设置
如果GitHub访问受限，可在Git配置中设置代理：
```
http://proxy.example.com:8080
```

## 🔐 安全说明

- CRP密码使用RSA公钥加密存储
- 配置文件存储在本地，不会上传到外部服务
- 支持HTTPS部署（需要额外配置）

## 🚨 注意事项

1. **不要修改原有CLI工具**: Web版本是独立实现，不依赖原有工具
2. **配置路径独立**: 使用独立的配置路径，不会与原工具冲突
3. **网络依赖**: 需要能够访问CRP系统和GitHub API
4. **Python版本**: 需要Python 3.8+

## 🐛 故障排除

### 常见问题

1. **启动失败**
   - 检查Python3是否安装
   - 检查端口5000是否被占用
   - 查看终端错误信息

2. **CRP连接失败**
   - 检查用户名和密码是否正确
   - 检查网络连接
   - 确认CRP系统可访问

3. **GitHub连接失败**
   - 检查网络连接
   - 配置代理设置
   - 确认GitHub API可访问

4. **配置丢失**
   - 检查config/config.yaml文件是否存在
   - 重新配置认证信息

### 日志查看
应用日志会在终端显示，如需详细调试信息，可在配置文件中启用调试模式。

## 📞 技术支持

如遇到问题，请：
1. 查看终端输出的错误信息
2. 检查网络连接和配置
3. 参考故障排除部分

## 📝 更新日志

### v1.0.0
- ✅ 完成基础Web界面
- ✅ 实现CRP打包管理功能
- ✅ 实现Git标签管理功能
- ✅ 实现配置管理系统
- ✅ 支持局域网访问
- ✅ 支持批量操作